(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,function(e,t,a){e.exports={card:"actor_card__2BMLT",link:"actor_link__2VWt1",image:"actor_image__1LDhV",info:"actor_info__276k4",name:"actor_name__38j6_",character:"actor_character__2zFIO"}},,,,,,,function(e,t,a){e.exports={overlay:"modal_overlay__1cAaC",open:"modal_open__Jiylm modal_overlay__1cAaC",content:"modal_content__3GjHr",header:"modal_header__y566J",title:"modal_title__20B77"}},,function(e,t,a){e.exports={wrapper:"rating_wrapper__16Jnq",value:"rating_value__2CMCV",scale:"rating_scale__2XSJb"}},,,,,,,,,,function(e,t,a){},function(e,t,a){},,,,,,,function(e,t,a){e.exports={player:"trailer_player__eej9B"}},,,function(e,t,a){e.exports=a(71)},,,,,function(e,t,a){},,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(32),l=a.n(c),m=a(5),o=a(9),i=a(12),s=a(13),u=a(15),d=a(14),p=a(16),b=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={error:null,errorInfo:null},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t}),console.error(e,t.componentStack)}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.errorInfo;return t?r.a.createElement("div",null,r.a.createElement("h3",null,"Stranger things happen here..."),r.a.createElement("p",null,"Keep calm, we called El to fix it."),r.a.createElement("details",{style:{whiteSpace:"pre-wrap"}},t&&t.toString(),a&&a.componentStack)):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),t}(n.Component),E=(a(46),function(){return r.a.createElement("header",{className:"rmdb-header"},r.a.createElement("div",{className:"rmdb-header-content rmdb-container"},r.a.createElement(m.b,{to:"/"},r.a.createElement("img",{className:"rmdb-logo",src:"".concat("/react_rmdb","/images/reactMovie_logo.png"),alt:"rmdb-logo"})),r.a.createElement("a",{href:"https://www.themoviedb.org",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{className:"rmdb-tmdb-logo",src:"".concat("/react_rmdb","/images/movie-db-logo.svg"),alt:"tmdb-logo"}))))}),f=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Whoooops. This page doesn't exist..."),r.a.createElement("button",{onClick:e.history.goBack},"Go to previous page"))},h=a(35),v="https://api.themoviedb.org/3/",g="844dba0bfd8f3a4f3799f6130ef9e335",_="".concat("/react_rmdb","/images/no_image.jpg"),N=function(e,t){return function(a){var n=t?"":_;return a?"".concat("https://image.tmdb.org/t/p/").concat(e).concat(a):n}},y=N("w1280",!0),w=N("w500"),k=N("w300"),x=N("w154"),j="en-US",O=function(e){var t=e.title,a=e.desc,n=e.image;return r.a.createElement(h.Helmet,null,r.a.createElement("html",{lang:j}),r.a.createElement("title",null,t),r.a.createElement("meta",{name:"title",content:t}),r.a.createElement("meta",{name:"description",content:a}),r.a.createElement("meta",{property:"og:type",content:"website"}),r.a.createElement("meta",{property:"og:url",content:document.location.href}),r.a.createElement("meta",{property:"og:title",content:t}),r.a.createElement("meta",{property:"og:description",content:a}),r.a.createElement("meta",{property:"og:image",content:n}),r.a.createElement("meta",{property:"twitter:card",content:"summary_large_image"}),r.a.createElement("meta",{property:"twitter:url",content:document.location.href}),r.a.createElement("meta",{property:"twitter:title",content:t}),r.a.createElement("meta",{property:"twitter:description",content:a}),r.a.createElement("meta",{property:"twitter:image",content:n}),r.a.createElement("link",{rel:"canonical",href:document.location.href}))},S=a(27),D=a.n(S),I=a(22),M=a(36),C=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),c=1;c<t;c++)a[c-1]=arguments[c];return function(t){function n(){var e,t,r;Object(i.a)(this,n);for(var c=arguments.length,l=new Array(c),m=0;m<c;m++)l[m]=arguments[m];return(r=Object(u.a)(this,(e=Object(d.a)(n)).call.apply(e,[this].concat(l)))).state={movies:[],response:null,loading:!0,currentPage:1,totalPages:1,searchTerm:r.props.match.params.searchTerm||""},r.createEndpoint=function(e,t,a){return function(){var n=r.props.match.params.id,c=r.state,l=c.currentPage,m=c.searchTerm;return"".concat(v).concat(e,"/").concat(t||n,"?api_key=").concat(g,"&language=").concat(j,"&append_to_response=").concat(a,"&query=").concat(m,"&page=").concat(l)}},r._endpoint=(t=r).createEndpoint.apply(t,a),r.fetchItems=Object(M.a)(D.a.mark(function e(){var t;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(r._endpoint());case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).status_code?r.setState({loading:!1}):t.results?r.setState(function(e){var a=e.movies;return{movies:[].concat(Object(I.a)(a),Object(I.a)(t.results)),loading:!1,currentPage:t.page,totalPages:t.total_pages}}):r.setState({response:t,loading:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Fetch error:",e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])})),r.updateItems=function(e,t){r.setState(function(a){var n=a.movies,r=a.searchTerm,c=a.currentPage;return{movies:e?Object(I.a)(n):[],loading:!0,searchTerm:e?r:t,currentPage:e?c+1:1}},r.fetchItems)},r}return Object(p.a)(n,t),Object(s.a)(n,[{key:"componentDidMount",value:function(){this.fetchItems()}},{key:"componentDidUpdate",value:function(e){var t=this.props.match.params.searchTerm;e.match.params.searchTerm!==t&&this.updateItems(!1,t)}},{key:"render",value:function(){return r.a.createElement(e,Object.assign({},this.state,this.props,{updateItems:this.updateItems}))}}]),n}(n.Component)},T=(a(57),function(e){var t=e.children;return r.a.createElement("main",{className:"rmdb-page"},t)}),B=a(37),P=a.n(B),F=(a(58),function(e){var t=e.children,a=e.header,n=e.loading,c=e.isActors,l=P()({"rmdb-grid-content":!0,"rmdb-grid-content-actor":c});return r.a.createElement(b,null,r.a.createElement("div",{className:"rmdb-grid"},r.a.createElement("div",{className:"rmdb-container"},a&&!n&&r.a.createElement("h2",null,a),r.a.createElement("div",{className:l},t&&t.map(function(e,t){return r.a.createElement("div",{key:t,className:"rmdb-grid-element"},e)})))))}),R=(a(59),function(e){var t=e.image,a=e.title,n=e.text,c={backgroundImage:"url('".concat(t,"')")};return r.a.createElement("div",{className:"rmdb-heroimage",style:c},r.a.createElement("div",{className:"rmdb-heroimage-content rmdb-container"},r.a.createElement("div",{className:"rmdb-heroimage-text"},r.a.createElement("h1",null,a),r.a.createElement("p",null,n))))}),z=(a(60),function(e){var t=e.text,a=e.onClick;return r.a.createElement("div",{className:"rmdb-container"},r.a.createElement("button",{type:"button",className:"rmdb-loadmorebtn",onClick:function(){return a(!0)}},t))}),A=(a(61),["Itself","Herself","Himself"]),L=function(e){var t=e.clickable,a=e.image,n=e.title,c=e.year,l=e.movieId,o=e.gender,i=e.character;return r.a.createElement("div",{className:"rmdb-moviethumb"},t?r.a.createElement(m.b,{to:"/movie/".concat(l),className:"rmdb-moviethumb-wrapper"},r.a.createElement("img",{className:"rmdb-moviethumb-image",src:a,alt:n}),r.a.createElement("p",{className:"rmdb-moviethumb-title"},"\u201c",n,"\u201d",c?", ".concat(c):"",r.a.createElement("br",null),o&&r.a.createElement("span",null,"Character: ",i||A[o]))):r.a.createElement("img",{className:"rmdb-moviethumb-image",src:a,alt:"moviethumb"}))},U=a(3),J=(a(65),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={value:""},a.handleSubmit=function(e){e.preventDefault();var t=a.state.value.trim(),n=a.props.match.params.searchTerm;""!==t&&t!==n&&a.props.history.push("/search/".concat(t))},a.handleInput=function(e){var t=e.target.value;a.setState({value:t})},a.selectText=function(e){e.target.select()},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.searchTerm;e&&this.setState({value:e})}},{key:"componentDidUpdate",value:function(e){var t=this.props.match.params.searchTerm;e.match.params.searchTerm!==t&&this.setState({value:t})}},{key:"render",value:function(){return r.a.createElement("div",{className:"rmdb-searchbar"},r.a.createElement("div",{className:"rmdb-container"},r.a.createElement("form",{className:"rmdb-searchbar-form",onSubmit:this.handleSubmit},r.a.createElement("label",{className:"rmdb-searchbar-label"},r.a.createElement(U.a,{className:"rmdb-searchbar-icon",icon:"search"}),r.a.createElement("span",{className:"visually-hidden"},"Search"),r.a.createElement("input",{type:"text",name:"search",className:"rmdb-searchbar-input",placeholder:"Search",onFocus:this.selectText,onChange:this.handleInput,value:this.state.value})),r.a.createElement("button",{className:"rmdb-searchbar-submit"},"Search"))))}}]),t}(n.Component)),H=Object(o.f)(J),G=(a(66),function(){return r.a.createElement("div",{className:"loader"})}),V=C(function(e){var t=e.loading,a=e.movies,n=e.currentPage,c=e.totalPages,l=e.updateItems,m=a.length>0?a[0]:{};return r.a.createElement(T,null,r.a.createElement(O,{title:"RMDB - Popular Movies",desc:"React Movie (or RMDB) is a database for searching information about movies and actors",image:y(m.backdrop_path)}),r.a.createElement(R,{image:y(m.backdrop_path),title:m.original_title,text:m.overview}),r.a.createElement(H,null),r.a.createElement(F,{header:"Popular Movies",loading:t},a.map(function(e){return r.a.createElement(L,{key:e.id,clickable:!0,title:e.title,year:e.release_date&&e.release_date.slice(0,4),image:w(e.poster_path),movieId:e.id,movieName:e.title})})),t&&r.a.createElement(G,null),n<c&&!t&&r.a.createElement(z,{text:"Load More",onClick:l}))},"movie","popular"),q=a(11),W=a.n(q),Y=function(e){var t=e.actor;return r.a.createElement("div",{className:W.a.card},r.a.createElement(m.b,{to:"/actor/".concat(t.id),className:W.a.image},r.a.createElement("img",{src:x(t.profile_path),alt:t.name})),r.a.createElement("div",{className:W.a.info},r.a.createElement(m.b,{to:"/actor/".concat(t.id),className:W.a.link},r.a.createElement("p",{className:W.a.name},t.name)),r.a.createElement("p",{className:W.a.character},t.character)))},K=a(40),X=(a(67),function(e){var t=e.children,a=e.onClick;return r.a.createElement("button",{type:"button",className:"rmdb-link-btn",onClick:a},t)}),Q=a(18),Z=a.n(Q),$=function(e){var t=e.children,a=e.title,c=e.OpenBtn,l=Object(n.useState)(!1),m=Object(K.a)(l,2),o=m[0],i=m[1],s=function(){return i(!1)},u=function(e){return 27===e.keyCode&&o?s():null};Object(n.useEffect)(function(){return window.addEventListener("keydown",u),function(){window.removeEventListener("keydown",u)}});var d=o?Z.a.open:Z.a.overlay;return r.a.createElement(r.a.Fragment,null,r.a.createElement(c,{openModal:function(){return i(!0)}}),o&&r.a.createElement("div",{className:d,onClick:function(e){return e.target.className===d?s():null}},r.a.createElement("section",{className:Z.a.content},r.a.createElement("div",{className:Z.a.header},r.a.createElement("h2",{className:Z.a.title},a),r.a.createElement(X,{onClick:s},r.a.createElement(U.a,{icon:"times",size:"1x"}),r.a.createElement("span",{className:"visually-hidden"},"close"))),r.a.Children.map(t,function(e){return r.a.cloneElement(e,{closeModal:s})}))))},ee=a(38),te=function(e){var t=e.title,a=e.trailerURL;return r.a.createElement("iframe",{className:ee.player,title:"".concat(t," - Official Trailer"),width:"560",height:"315",src:a,frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope",allowFullScreen:!0})},ae=a(20),ne=a.n(ae),re=function(e){var t=e.value;return r.a.createElement("div",{className:ne.a.wrapper},r.a.createElement("meter",{className:ne.a.scale,min:"0",max:"100",optimum:"100",low:"40",high:"70",value:10*t}),r.a.createElement("p",{className:ne.a.value},t))},ce=(a(30),function(e){var t=e.movie,a=t.backdrop_path,n=t.poster_path,c=t.title,l=t.genres,m=t.overview,o=t.vote_average,i=t.credits,s=t.videos,u={backgroundImage:"url(".concat(y(a),")")},d=s.results.length>0&&s.results.filter(function(e){return"Trailer"===e.type})[0],p=d?"".concat("https://www.youtube.com/embed/").concat(d.key):null,b=i.crew.filter(function(e){return"Director"===e.job}),E=l.map(function(e){return e.name}).join(", ");return r.a.createElement("div",{className:"rmdb-info",style:u},r.a.createElement("div",{className:"rmdb-info-content rmdb-container clearfix"},r.a.createElement("div",{className:"rmdb-info-thumb"},r.a.createElement(L,{image:w(n)})),r.a.createElement("div",{className:"rmdb-info-text"},r.a.createElement("h1",null,c),p&&r.a.createElement($,{title:"Play Trailer",OpenBtn:function(e){var t=e.openModal;return r.a.createElement(X,{onClick:t},r.a.createElement(U.a,{icon:"play",size:"1x"})," Play trailer")}},r.a.createElement(te,{trailerURL:p,title:c})),r.a.createElement("div",{className:"rmdb-info-section"},r.a.createElement("h2",null,"Overview"),r.a.createElement("p",null,m)),r.a.createElement("div",{className:"rmdb-info-footer"},r.a.createElement("div",{className:"rmdb-info-section"},r.a.createElement("h2",null,"Genres"),r.a.createElement("p",null,E)),r.a.createElement("div",{className:"rmdb-info-section"},r.a.createElement("h2",null,"IMDB rating"),r.a.createElement(re,{value:o})),r.a.createElement("div",{className:"rmdb-info-section"},r.a.createElement("h2",null,b.length>1?"Directors":"Director"),r.a.createElement("p",null,b.map(function(e){return e.name}).join(", ")))))))}),le=function(e){return e&&0!==e?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(e):"n/a"},me=(a(31),function(e){var t=e.movie,a=t.runtime,n=t.budget,c=t.revenue,l=t.release_date;return r.a.createElement("div",{className:"rmdb-infobar"},r.a.createElement("ul",{className:"rmdb-infobar-list rmdb-container"},r.a.createElement("li",{className:"rmdb-infobar-item"},r.a.createElement(U.a,{icon:["far","calendar-alt"],size:"2x"}),r.a.createElement("span",{className:"rmdb-infobar-info"},"Release date: ",l)),r.a.createElement("li",{className:"rmdb-infobar-item"},r.a.createElement(U.a,{icon:["far","clock"],size:"2x"}),r.a.createElement("span",{className:"rmdb-infobar-info"},"Running time: ",function(e){if(!e||0===e)return"n/a";var t=Math.floor(e/60),a=e%60;return"".concat(t,"h ").concat(a,"m")}(a))),r.a.createElement("li",{className:"rmdb-infobar-item"},r.a.createElement(U.a,{icon:["far","money-bill-alt"],size:"2x"}),r.a.createElement("span",{className:"rmdb-infobar-info"},"Budget: ",le(n))),r.a.createElement("li",{className:"rmdb-infobar-item"},r.a.createElement(U.a,{icon:"ticket-alt",size:"2x"}),r.a.createElement("span",{className:"rmdb-infobar-info"},"Revenue: ",le(c)))))}),oe=(a(68),function(e){var t=e.title;return r.a.createElement("div",{className:"rmdb-breadcrumbs"},r.a.createElement("div",{className:"rmdb-container"},r.a.createElement("ul",{className:"rmdb-breadcrumbs-list"},r.a.createElement("li",{className:"rmdb-breadcrumbs-item"},r.a.createElement(m.b,{to:"/"},"Home")),r.a.createElement("li",{className:"rmdb-breadcrumbs-item"},t))))}),ie=C(function(e){var t=e.response,a=e.loading,n=t&&t.credits.cast;return r.a.createElement(T,null,t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{title:'RMDB - "'.concat(t.title,'"'),desc:t.overview,image:w(t.poster_path)}),r.a.createElement(oe,{title:t.title}),r.a.createElement(ce,{movie:t}),r.a.createElement(me,{movie:t})),n&&r.a.createElement(F,{header:"Actors",loading:a,isActors:!0},n.map(function(e){return r.a.createElement(Y,{key:e.name,actor:e})})),a&&r.a.createElement(G,null),!n&&!a&&r.a.createElement("h1",null,"Not found!"))},"movie",null,["credits","videos"]),se=C(function(e){var t=e.loading,a=e.movies,n=e.currentPage,c=e.totalPages,l=e.updateItems,m=e.searchTerm,o='Search results for "'.concat(m,'"');return r.a.createElement(T,null,r.a.createElement(O,{title:"RMDB - Search: ".concat(m),desc:o}),r.a.createElement(H,null),r.a.createElement(F,{header:o,loading:t},a.map(function(e){return r.a.createElement(L,{key:e.id,clickable:!0,title:e.title,year:e.release_date&&e.release_date.slice(0,4),image:w(e.poster_path),movieId:e.id,movieName:e.title})})),t&&r.a.createElement(G,null),n<c&&!t&&r.a.createElement(z,{text:"Load More",onClick:l}))},"search","movie"),ue=function(e){var t=e.actor,a=t.profile_path,n=t.name,c=t.biography;return r.a.createElement("div",{className:"rmdb-info"},r.a.createElement("div",{className:"rmdb-info-content rmdb-container clearfix"},r.a.createElement("div",{className:"rmdb-info-thumb"},r.a.createElement(L,{image:w(a)})),r.a.createElement("div",{className:"rmdb-info-text"},r.a.createElement("h1",null,n),c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Biography"),r.a.createElement("p",null,c)))))},de=[{gen:"n/a",icon:"genderless"},{gen:"Female",icon:"venus"},{gen:"Male",icon:"mars"}],pe=function(e){var t=e.actor,a=t.gender,n=t.birthday,c=t.deathday,l=t.place_of_birth,m=function(e,t){var a=t?new Date(t):new Date,n=new Date(e),r=a.getFullYear()-n.getFullYear(),c=a.getMonth()-n.getMonth();return(c<0||0===c&&a.getDate()<n.getDate())&&r--,r}(n,c),o="".concat(n," \u2013 ").concat(c||"now"," (").concat(m," years old)"),i=de[a],s=i.gen,u=i.icon;return r.a.createElement("div",{className:"rmdb-infobar"},r.a.createElement("ul",{className:"rmdb-infobar-list rmdb-container"},r.a.createElement("li",{className:"rmdb-infobar-item"},r.a.createElement(U.a,{icon:["far","calendar-alt"],size:"2x"}),r.a.createElement("span",{className:"rmdb-infobar-info"},"Age: ",n?o:"n/a")),r.a.createElement("li",{className:"rmdb-infobar-item"},r.a.createElement(U.a,{icon:u,size:"2x"}),r.a.createElement("span",{className:"rmdb-infobar-info"},"Gender: ",s)),r.a.createElement("li",{className:"rmdb-infobar-item"},r.a.createElement(U.a,{icon:"globe",size:"2x"}),r.a.createElement("span",{className:"rmdb-infobar-info"},"Place of birth: ",l||"n/a"))))},be=C(function(e){var t=e.response,a=e.loading,n=t&&t.movie_credits.cast;return r.a.createElement(T,null,t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{title:"RMDB - ".concat(t.name),desc:t.biography,image:w(t.profile_path)}),r.a.createElement(oe,{title:t.name}),r.a.createElement(ue,{actor:t}),r.a.createElement(pe,{actor:t})),n&&r.a.createElement(F,{header:"".concat(n.length," Movies with ").concat(t.name),loading:a},n.sort(function(e,t){return new Date(t.release_date)-new Date(e.release_date)}).map(function(e){return r.a.createElement(L,{key:e.id,clickable:!0,title:e.title,year:e.release_date&&e.release_date.slice(0,4),image:k(e.poster_path),movieId:e.id,gender:t.gender,character:e.character})})),a&&r.a.createElement(G,null),!n&&!a&&r.a.createElement("h1",null,"Not found!"))},"person",null,["images","movie_credits","tv_credits"]),Ee=function(){return r.a.createElement(b,null,r.a.createElement(m.a,null,r.a.createElement(E,null),r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",component:V,exact:!0}),r.a.createElement(o.a,{path:"/search/:searchTerm",component:se,exact:!0}),r.a.createElement(o.a,{path:"/movie/:id",component:ie,exact:!0}),r.a.createElement(o.a,{path:"/actor/:id",component:be,exact:!0}),r.a.createElement(o.a,{component:f}))))},fe=a(19),he=a(39),ve=a(8),ge=a(21);fe.b.add(he.a,ve.e,ge.a,ge.b,ge.c,ve.f,ve.a,ve.c,ve.h,ve.b,ve.d,ve.g);a(69),a(70);l.a.render(r.a.createElement(Ee,null),document.getElementById("root"))}],[[41,1,2]]]);
//# sourceMappingURL=main.a9770609.chunk.js.map