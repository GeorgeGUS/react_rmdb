(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},36:function(e,t,a){e.exports=a(69)},41:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(29),l=a.n(c),m=a(3),o=a(9),i=a(11),s=a(12),u=a(14),d=a(13),p=a(15),b=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={error:null,errorInfo:null},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t}),console.error(e,t.componentStack)}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.errorInfo;return t?n.a.createElement("div",null,n.a.createElement("h3",null,"Stranger things happen here..."),n.a.createElement("p",null,"Keep calm, we called El to fix it."),n.a.createElement("details",{style:{whiteSpace:"pre-wrap"}},t&&t.toString(),a&&a.componentStack)):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),t}(r.Component),h=(a(41),function(){return n.a.createElement("header",{className:"rmdb-header"},n.a.createElement("div",{className:"rmdb-header-content rmdb-container"},n.a.createElement(m.b,{to:"/"},n.a.createElement("img",{className:"rmdb-logo",src:"".concat("/react_rmdb","/images/reactMovie_logo.png"),alt:"rmdb-logo"})),n.a.createElement("a",{href:"https://www.themoviedb.org",target:"_blank",rel:"noopener noreferrer"},n.a.createElement("img",{className:"rmdb-tmdb-logo",src:"".concat("/react_rmdb","/images/tmdb_logo.png"),alt:"tmdb-logo"}))))}),E=function(e){return n.a.createElement("div",null,n.a.createElement("h1",null,"Whoooops. This page doesn't exist..."),n.a.createElement("button",{onClick:e.history.goBack},"Go to previous page"))},f=a(32),g="https://api.themoviedb.org/3/",v="844dba0bfd8f3a4f3799f6130ef9e335",N="".concat("/react_rmdb","/images/no_image.jpg"),y=function(e,t){return function(a){var r=t?"":N;return a?"".concat("https://image.tmdb.org/t/p/").concat(e).concat(a):r}},_=y("w1280",!0),w=y("w500"),k=y("w300"),x=y("w154"),j="en-US",S=function(e){var t=e.title,a=e.desc,r=e.image;return n.a.createElement(f.Helmet,null,n.a.createElement("html",{lang:j}),n.a.createElement("title",null,t),n.a.createElement("meta",{name:"title",content:t}),n.a.createElement("meta",{name:"description",content:a}),n.a.createElement("meta",{property:"og:type",content:"website"}),n.a.createElement("meta",{property:"og:url",content:document.location.href}),n.a.createElement("meta",{property:"og:title",content:t}),n.a.createElement("meta",{property:"og:description",content:a}),n.a.createElement("meta",{property:"og:image",content:r}),n.a.createElement("meta",{property:"twitter:card",content:"summary_large_image"}),n.a.createElement("meta",{property:"twitter:url",content:document.location.href}),n.a.createElement("meta",{property:"twitter:title",content:t}),n.a.createElement("meta",{property:"twitter:description",content:a}),n.a.createElement("meta",{property:"twitter:image",content:r}),n.a.createElement("link",{rel:"canonical",href:document.location.href}))},D=a(23),I=a.n(D),O=a(20),M=a(33),T=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),c=1;c<t;c++)a[c-1]=arguments[c];return function(t){function r(){var e,t;Object(i.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(t=Object(u.a)(this,(e=Object(d.a)(r)).call.apply(e,[this].concat(n)))).state={movies:[],response:null,loading:!1,currentPage:1,totalPages:1,searchTerm:t.props.match.params.searchTerm||""},t._endpoint="",t.createEndpoint=function(e,a,r){return function(){var n=t.props.match.params.id,c=t.state,l=c.currentPage,m=c.searchTerm;return"".concat(g).concat(e,"/").concat(a||n,"?api_key=").concat(v,"&language=").concat(j,"&append_to_response=").concat(r,"&query=").concat(m,"&page=").concat(l)}},t.fetchItems=Object(M.a)(I.a.mark(function e(){var a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({loading:!0}),e.prev=1,e.next=4,fetch(t._endpoint());case 4:return e.next=6,e.sent.json();case 6:(a=e.sent).status_code?t.setState({loading:!1}):a.results?t.setState(function(e){var t=e.movies;return{movies:[].concat(Object(O.a)(t),Object(O.a)(a.results)),loading:!1,currentPage:a.page,totalPages:a.total_pages}}):t.setState({response:a,loading:!1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Fetch error:",e.t0);case 13:case"end":return e.stop()}},e,null,[[1,10]])})),t.updateItems=function(e,a){t.setState(function(t){var r=t.movies,n=t.searchTerm,c=t.currentPage;return{movies:e?Object(O.a)(r):[],loading:!0,searchTerm:e?n:a,currentPage:e?c+1:1}},t.fetchItems)},t}return Object(p.a)(r,t),Object(s.a)(r,[{key:"componentDidMount",value:function(){this._endpoint=this.createEndpoint.apply(this,a),this.fetchItems()}},{key:"componentDidUpdate",value:function(e){var t=this.props.match.params.searchTerm;e.match.params.searchTerm!==t&&this.updateItems(!1,t)}},{key:"render",value:function(){return n.a.createElement(e,Object.assign({},this.state,this.props,{updateItems:this.updateItems}))}}]),r}(r.Component)},P=a(34),C=a.n(P),F=(a(56),function(e){var t=e.children,a=e.header,r=e.loading,c=e.isActors,l=C()({"rmdb-grid-content":!0,"rmdb-grid-content-actor":c});return n.a.createElement(b,null,n.a.createElement("div",{className:"rmdb-grid"},n.a.createElement("div",{className:"rmdb-container"},a&&!r&&n.a.createElement("h2",null,a),n.a.createElement("div",{className:l},t&&t.map(function(e,t){return n.a.createElement("div",{key:t,className:"rmdb-grid-element"},e)})))))}),B=(a(57),function(e){var t=e.image,a=e.title,r=e.text,c={backgroundImage:"url('".concat(t,"')")};return n.a.createElement("div",{className:"rmdb-heroimage",style:c},n.a.createElement("div",{className:"rmdb-heroimage-content rmdb-container"},n.a.createElement("div",{className:"rmdb-heroimage-text"},n.a.createElement("h1",null,a),n.a.createElement("p",null,r))))}),R=(a(58),function(e){var t=e.text,a=e.onClick;return n.a.createElement("div",{className:"rmdb-container"},n.a.createElement("button",{type:"button",className:"rmdb-loadmorebtn",onClick:function(){return a(!0)}},t))}),z=(a(59),["Itself","Herself","Himself"]),A=function(e){var t=e.clickable,a=e.image,r=e.title,c=e.year,l=e.movieId,o=e.gender,i=e.character;return n.a.createElement("div",{className:"rmdb-moviethumb"},t?n.a.createElement(m.b,{to:"/movie/".concat(l),className:"rmdb-moviethumb-wrapper"},n.a.createElement("img",{className:"rmdb-moviethumb-image",src:a,alt:r}),n.a.createElement("p",{className:"rmdb-moviethumb-title"},"\u201c",r,"\u201d",c?", ".concat(c):"",n.a.createElement("br",null),o&&n.a.createElement("span",null,"Character: ",i||z[o]))):n.a.createElement("img",{className:"rmdb-moviethumb-image",src:a,alt:"moviethumb"}))},U=a(5),H=(a(63),function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={value:""},a.handleSubmit=function(e){e.preventDefault();var t=a.state.value.trim(),r=a.props.match.params.searchTerm;""!==t&&t!==r&&a.props.history.push("/search/".concat(t))},a.handleInput=function(e){var t=e.target.value;a.setState({value:t})},a.selectText=function(e){e.target.select()},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.searchTerm;e&&this.setState({value:e})}},{key:"componentDidUpdate",value:function(e){var t=this.props.match.params.searchTerm;e.match.params.searchTerm!==t&&this.setState({value:t})}},{key:"render",value:function(){return n.a.createElement("div",{className:"rmdb-searchbar"},n.a.createElement("div",{className:"rmdb-container"},n.a.createElement("form",{className:"rmdb-searchbar-form",onSubmit:this.handleSubmit},n.a.createElement("label",{className:"rmdb-searchbar-label"},n.a.createElement(U.a,{className:"rmdb-searchbar-icon",icon:"search"}),n.a.createElement("span",{className:"visually-hidden"},"Search"),n.a.createElement("input",{type:"text",name:"search",className:"rmdb-searchbar-input",placeholder:"Search",onFocus:this.selectText,onChange:this.handleInput,value:this.state.value})),n.a.createElement("button",{className:"rmdb-searchbar-submit"},"Search"))))}}]),t}(r.Component)),G=Object(o.e)(H),J=(a(64),function(){return n.a.createElement("div",{className:"loader"})}),L=(a(18),T(function(e){var t=e.loading,a=e.movies,r=e.currentPage,c=e.totalPages,l=e.updateItems,m=a.length>0?a[0]:{};return n.a.createElement("div",{className:"rmdb-page"},n.a.createElement(S,{title:"RMDB - Popular Movies",desc:"React Movie (or RMDB) is a database for searching information about movies and actors",image:_(m.backdrop_path)}),n.a.createElement(B,{image:_(m.backdrop_path),title:m.original_title,text:m.overview}),n.a.createElement(G,null),n.a.createElement(F,{header:"Popular Movies",loading:t},a.map(function(e){return n.a.createElement(A,{key:e.id,clickable:!0,title:e.title,year:e.release_date&&e.release_date.slice(0,4),image:w(e.poster_path),movieId:e.id,movieName:e.title})})),t&&n.a.createElement(J,null),r<c&&!t&&n.a.createElement(R,{text:"Load More",onClick:l}))},"movie","popular")),Y=(a(65),function(e){var t=e.actor;return n.a.createElement("div",{className:"rmdb-actor"},n.a.createElement(m.b,{to:"/actor/".concat(t.id),className:"rmdb-actor-image"},n.a.createElement("img",{src:x(t.profile_path),alt:t.name})),n.a.createElement("div",{className:"rmdb-actor-info"},n.a.createElement(m.b,{to:"/actor/".concat(t.id)},n.a.createElement("p",{className:"rmdb-actor-name"},t.name)),n.a.createElement("p",{className:"rmdb-actor-character"},t.character)))}),q=(a(27),function(e){var t=e.movie,a=t.backdrop_path,r=t.poster_path,c=t.title,l=t.genres,m=t.overview,o=t.vote_average,i=t.credits,s={backgroundImage:"url(".concat(_(a),")")},u=i.crew.filter(function(e){return"Director"===e.job}),d=l.map(function(e){return e.name}).join(", ");return n.a.createElement("div",{className:"rmdb-info",style:s},n.a.createElement("div",{className:"rmdb-info-content rmdb-container clearfix"},n.a.createElement("div",{className:"rmdb-info-thumb"},n.a.createElement(A,{image:w(r)})),n.a.createElement("div",{className:"rmdb-info-text"},n.a.createElement("h1",null,c),n.a.createElement("h2",null,"Plot"),n.a.createElement("p",null,m),n.a.createElement("div",{className:"rmdb-info-sections"},n.a.createElement("div",{className:"rmdb-info-section"},n.a.createElement("h2",null,"Genres"),n.a.createElement("p",null,d)),n.a.createElement("div",{className:"rmdb-info-section"},n.a.createElement("h2",null,"IMDB rating"),n.a.createElement("div",{className:"rmdb-rating"},n.a.createElement("meter",{className:"rmdb-rating-scale",min:"0",max:"100",optimum:"100",low:"40",high:"70",value:10*o}),n.a.createElement("p",{className:"rmdb-rating-score"},o))),n.a.createElement("div",{className:"rmdb-info-section"},u.length>1?n.a.createElement("h2",null,"Directors"):n.a.createElement("h2",null,"Director"),n.a.createElement("p",null,u.map(function(e){return e.name}).join(", ")))))))}),K=function(e){return e&&0!==e?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(e):"n/a"},W=(a(28),function(e){var t=e.movie,a=t.runtime,r=t.budget,c=t.revenue,l=t.release_date;return n.a.createElement("div",{className:"rmdb-infobar"},n.a.createElement("ul",{className:"rmdb-infobar-list rmdb-container"},n.a.createElement("li",{className:"rmdb-infobar-item"},n.a.createElement(U.a,{icon:["far","calendar-alt"],size:"2x"}),n.a.createElement("span",{className:"rmdb-infobar-info"},"Release date: ",l)),n.a.createElement("li",{className:"rmdb-infobar-item"},n.a.createElement(U.a,{icon:["far","clock"],size:"2x"}),n.a.createElement("span",{className:"rmdb-infobar-info"},"Running time: ",function(e){if(!e||0===e)return"n/a";var t=Math.floor(e/60),a=e%60;return"".concat(t,"h ").concat(a,"m")}(a))),n.a.createElement("li",{className:"rmdb-infobar-item"},n.a.createElement(U.a,{icon:["far","money-bill-alt"],size:"2x"}),n.a.createElement("span",{className:"rmdb-infobar-info"},"Budget: ",K(r))),n.a.createElement("li",{className:"rmdb-infobar-item"},n.a.createElement(U.a,{icon:"ticket-alt",size:"2x"}),n.a.createElement("span",{className:"rmdb-infobar-info"},"Revenue: ",K(c)))))}),Q=(a(66),function(e){var t=e.title;return n.a.createElement("div",{className:"rmdb-breadcrumbs"},n.a.createElement("div",{className:"rmdb-container"},n.a.createElement("ul",{className:"rmdb-breadcrumbs-list"},n.a.createElement("li",{className:"rmdb-breadcrumbs-item"},n.a.createElement(m.b,{to:"/"},"Home")),n.a.createElement("li",{className:"rmdb-breadcrumbs-item"},t))))}),V=T(function(e){var t=e.response,a=e.loading,r=t&&t.credits.cast;return n.a.createElement("main",{className:"rmdb-page"},t&&n.a.createElement(n.a.Fragment,null,n.a.createElement(S,{title:'RMDB - "'.concat(t.title,'"'),desc:t.overview,image:w(t.poster_path)}),n.a.createElement(Q,{title:t.title}),n.a.createElement(q,{movie:t}),n.a.createElement(W,{movie:t})),r&&n.a.createElement(F,{header:"Actors",loading:a,isActors:!0},r.map(function(e){return n.a.createElement(Y,{key:e.name,actor:e})})),a&&n.a.createElement(J,null),!r&&!a&&n.a.createElement("h1",null,"Not found!"))},"movie",null,["credits","videos"]),X=T(function(e){var t=e.loading,a=e.movies,r=e.currentPage,c=e.totalPages,l=e.updateItems,m=e.searchTerm,o='Search results for "'.concat(m,'"');return n.a.createElement("div",{className:"rmdb-page"},n.a.createElement(S,{title:"RMDB - Search: ".concat(m),desc:o}),n.a.createElement(G,null),n.a.createElement(F,{header:o,loading:t},a.map(function(e){return n.a.createElement(A,{key:e.id,clickable:!0,title:e.title,year:e.release_date&&e.release_date.slice(0,4),image:w(e.poster_path),movieId:e.id,movieName:e.title})})),t&&n.a.createElement(J,null),r<c&&!t&&n.a.createElement(R,{text:"Load More",onClick:l}))},"search","movie"),Z=function(e){var t=e.actor,a=t.profile_path,r=t.name,c=t.biography;return n.a.createElement("div",{className:"rmdb-info"},n.a.createElement("div",{className:"rmdb-info-content rmdb-container clearfix"},n.a.createElement("div",{className:"rmdb-info-thumb"},n.a.createElement(A,{image:w(a)})),n.a.createElement("div",{className:"rmdb-info-text"},n.a.createElement("h1",null,r),c&&n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",null,"Biography"),n.a.createElement("p",null,c)))))},$=[{gen:"n/a",icon:"genderless"},{gen:"Female",icon:"venus"},{gen:"Male",icon:"mars"}],ee=function(e){var t=e.actor,a=t.gender,r=t.birthday,c=t.deathday,l=t.place_of_birth,m=function(e,t){var a=t?new Date(t):new Date,r=new Date(e),n=a.getFullYear()-r.getFullYear(),c=a.getMonth()-r.getMonth();return(c<0||0===c&&a.getDate()<r.getDate())&&n--,n}(r,c),o="".concat(r," \u2013 ").concat(c||"now"," (").concat(m," years old)"),i=$[a],s=i.gen,u=i.icon;return n.a.createElement("div",{className:"rmdb-infobar"},n.a.createElement("ul",{className:"rmdb-infobar-list rmdb-container"},n.a.createElement("li",{className:"rmdb-infobar-item"},n.a.createElement(U.a,{icon:["far","calendar-alt"],size:"2x"}),n.a.createElement("span",{className:"rmdb-infobar-info"},"Age: ",r?o:"n/a")),n.a.createElement("li",{className:"rmdb-infobar-item"},n.a.createElement(U.a,{icon:u,size:"2x"}),n.a.createElement("span",{className:"rmdb-infobar-info"},"Gender: ",s)),n.a.createElement("li",{className:"rmdb-infobar-item"},n.a.createElement(U.a,{icon:"globe",size:"2x"}),n.a.createElement("span",{className:"rmdb-infobar-info"},"Place of birth: ",l||"n/a"))))},te=T(function(e){var t=e.response,a=e.loading,r=t&&t.movie_credits.cast;return n.a.createElement("div",{className:"rmdb-page"},t&&n.a.createElement(n.a.Fragment,null,n.a.createElement(S,{title:"RMDB - ".concat(t.name),desc:t.biography,image:w(t.profile_path)}),n.a.createElement(Q,{title:t.name}),n.a.createElement(Z,{actor:t}),n.a.createElement(ee,{actor:t})),r&&n.a.createElement(F,{header:"".concat(r.length," Movies with ").concat(t.name),loading:a},r.sort(function(e,t){return new Date(t.release_date)-new Date(e.release_date)}).map(function(e){return n.a.createElement(A,{key:e.id,clickable:!0,title:e.title,year:e.release_date&&e.release_date.slice(0,4),image:k(e.poster_path),movieId:e.id,gender:t.gender,character:e.character})})),a&&n.a.createElement(J,null),!r&&!a&&n.a.createElement("h1",null,"Not found!"))},"person",null,["images","movie_credits","tv_credits"]),ae=function(){return n.a.createElement(b,null,n.a.createElement(m.a,null,n.a.createElement(h,null),n.a.createElement(o.c,null,n.a.createElement(o.a,{path:"/",component:L,exact:!0}),n.a.createElement(o.a,{path:"/search/:searchTerm",component:X,exact:!0}),n.a.createElement(o.a,{path:"/movie/:id",component:V,exact:!0}),n.a.createElement(o.a,{path:"/actor/:id",component:te,exact:!0}),n.a.createElement(o.a,{component:E}))))},re=a(17),ne=a(35),ce=a(10),le=a(19);re.b.add(ne.a,ce.d,le.a,le.b,le.c,ce.e,ce.a,ce.c,ce.f,ce.b);a(67),a(68);l.a.render(n.a.createElement(ae,null),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.fc6860b1.chunk.js.map