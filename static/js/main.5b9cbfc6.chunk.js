(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,function(e,t,a){e.exports={block:"info_block__1hn2v fadeIn",content:"info_content__3J_58 container clearfix",thumb:"info_thumb__1N2b3",text:"info_text__2RXvB",title:"info_title__1Cp5B",subtitle:"info_subtitle__3E28W",section:"info_section__2Onyu",footer:"info_footer__1GlbN"}},,,,,function(e,t,a){e.exports={block:"moviethumb_block__F_wAU",image:"moviethumb_image__118k6",title:"moviethumb_title__2Cj-j",character:"moviethumb_character__1yEOJ"}},function(e,t,a){e.exports={block:"searchbar_block__30L5f",form:"searchbar_form__1xU_X",label:"searchbar_label__2-CRC",icon:"searchbar_icon__3X_IE",input:"searchbar_input__2jcVY",submitBtn:"searchbar_submitBtn__2vduh"}},function(e,t,a){e.exports={card:"actor_card__2BMLT",link:"actor_link__2VWt1",image:"actor_image__1LDhV",info:"actor_info__276k4",name:"actor_name__38j6_",character:"actor_character__2zFIO"}},,,,,,,function(e,t,a){e.exports={overlay:"modal_overlay__1cAaC",open:"modal_open__Jiylm modal_overlay__1cAaC",content:"modal_content__3GjHr",header:"modal_header__y566J",title:"modal_title__20B77"}},,function(e,t,a){e.exports={block:"header_block__fLlZL",content:"header_content__2Uc32 container",logo:"header_logo__1XiXi",tmdbLogo:"header_tmdbLogo__3kCI8"}},function(e,t,a){e.exports={block:"infobar_block__pvSs9",list:"infobar_list__24O8r container",item:"infobar_item__1gTQJ",text:"infobar_text__3Oppp"}},function(e,t,a){e.exports={block:"breadcrumbs_block___LMiL",list:"breadcrumbs_list__2uypF container",item:"breadcrumbs_item__1s3rz"}},function(e,t,a){e.exports={block:"grid_block__qA9PK",content:"grid_content__dY8bQ",element:"grid_element__137tZ"}},function(e,t,a){e.exports={block:"heroimage_block__1urgc fadeIn",wrapper:"heroimage_wrapper__ls-ey container",content:"heroimage_content__Rjfxd"}},function(e,t,a){e.exports={block:"rating_block__2EgXK",value:"rating_value__2CMCV",scale:"rating_scale__2XSJb"}},,,,,,,,function(e,t,a){e.exports={block:"loadmorebtn_block__uKkTz container",btn:"loadmorebtn_btn__JeRHE"}},,,,,,,,function(e,t,a){e.exports={block:"page_block__2ZEnE"}},function(e,t,a){e.exports={loader:"spinner_loader__HhDv8",spin:"spinner_spin__1stUk"}},function(e,t,a){e.exports={btn:"linkbtn_btn__1_y3x"}},function(e,t,a){e.exports={player:"trailer_player__eej9B"}},,,function(e,t,a){e.exports=a(70)},,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(39),l=a.n(c),o=a(4),i=a(10),m=a(15),s=a(16),u=a(18),p=a(17),_=a(19),d=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={error:null,errorInfo:null},a}return Object(_.a)(t,e),Object(s.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t}),console.error(e,t.componentStack)}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.errorInfo;return t?r.a.createElement("div",null,r.a.createElement("h3",null,"Stranger things happen here..."),r.a.createElement("p",null,"Keep calm, we called El to fix it."),r.a.createElement("details",{style:{whiteSpace:"pre-wrap"}},t&&t.toString(),a&&a.componentStack)):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),t}(n.Component),h=a(23),E=a.n(h),f=function(){return r.a.createElement("header",{className:E.a.block},r.a.createElement("div",{className:E.a.content},r.a.createElement(o.b,{to:"/"},r.a.createElement("img",{className:E.a.logo,src:"".concat("/react_rmdb","/images/reactMovie_logo.png"),alt:"site-logo"})),r.a.createElement("a",{href:"https://www.themoviedb.org",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{className:E.a.tmdbLogo,src:"".concat("/react_rmdb","/images/movie-db-logo.svg"),alt:"tmdb-logo"}))))},v=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Whoooops. This page doesn't exist..."),r.a.createElement("button",{onClick:e.history.goBack},"Go to previous page"))},b=a(42),g="https://api.themoviedb.org/3/",y="844dba0bfd8f3a4f3799f6130ef9e335",k="".concat("/react_rmdb","/images/no_image.jpg"),N=function(e,t){return function(a){var n=t?"":k;return a?"".concat("https://image.tmdb.org/t/p/").concat(e).concat(a):n}},w=N("w1280",!0),x=N("w500"),j=N("w300"),O=N("w154"),S="en-US",D=function(e){var t=e.title,a=e.desc,n=e.image;return r.a.createElement(b.Helmet,null,r.a.createElement("html",{lang:S}),r.a.createElement("title",null,t),r.a.createElement("meta",{name:"title",content:t}),r.a.createElement("meta",{name:"description",content:a}),r.a.createElement("meta",{property:"og:type",content:"website"}),r.a.createElement("meta",{property:"og:url",content:document.location.href}),r.a.createElement("meta",{property:"og:title",content:t}),r.a.createElement("meta",{property:"og:description",content:a}),r.a.createElement("meta",{property:"og:image",content:n}),r.a.createElement("meta",{property:"twitter:card",content:"summary_large_image"}),r.a.createElement("meta",{property:"twitter:url",content:document.location.href}),r.a.createElement("meta",{property:"twitter:title",content:t}),r.a.createElement("meta",{property:"twitter:description",content:a}),r.a.createElement("meta",{property:"twitter:image",content:n}),r.a.createElement("link",{rel:"canonical",href:document.location.href}))},I=a(35),C=a.n(I),M=a(30),T=a(43),B=function(e,t){return function(a){function n(){var e,a;Object(m.a)(this,n);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(n)).call.apply(e,[this].concat(c)))).state={movies:[],response:null,loading:!0,currentPage:1,totalPages:1,searchTerm:a.props.match.params.searchTerm||""},a.createEndpoint=function(e){var t=e.type,n=e.typeId,r=e.options;return function(){var e=a.props.match.params.id,c=a.state,l=c.currentPage,o=c.searchTerm;return"".concat(g).concat(t,"/").concat(n||e,"?api_key=").concat(y,"&language=").concat(S,"&append_to_response=").concat(r,"&query=").concat(o,"&page=").concat(l)}},a._endpoint=a.createEndpoint(t),a.fetchItems=Object(T.a)(C.a.mark(function e(){var t;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(a._endpoint());case 3:return e.next=5,e.sent.json();case 5:(t=e.sent).status_code?a.setState({loading:!1}):t.results?a.setState(function(e){var a=e.movies;return{movies:[].concat(Object(M.a)(a),Object(M.a)(t.results)),loading:!1,currentPage:t.page,totalPages:t.total_pages}}):a.setState({response:t,loading:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Fetch error:",e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])})),a.updateItems=function(e,t){a.setState(function(a){var n=a.movies,r=a.searchTerm,c=a.currentPage;return{movies:e?Object(M.a)(n):[],loading:!0,searchTerm:e?r:t,currentPage:e?c+1:1}},a.fetchItems)},a}return Object(_.a)(n,a),Object(s.a)(n,[{key:"componentDidMount",value:function(){this.fetchItems()}},{key:"componentDidUpdate",value:function(e){var t=this.props.match.params.searchTerm;e.match.params.searchTerm!==t&&this.updateItems(!1,t)}},{key:"render",value:function(){return r.a.createElement(e,Object.assign({},this.state,this.props,{updateItems:this.updateItems}))}}]),n}(n.Component)},P=a(44),L=a.n(P),F=function(e){var t=e.children;return r.a.createElement("main",{className:L.a.block},t)},R=a(26),U=a.n(R),J=function(e){var t=e.children,a=e.title;return r.a.createElement(d,null,r.a.createElement("div",{className:U.a.block},r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,a),r.a.createElement("div",{className:U.a.content},t.map(function(e,t){return r.a.createElement("div",{key:t,className:U.a.element},e)})))))},A=a(27),X=a.n(A),z=function(e){var t=e.image,a=e.title,n=e.text,c={backgroundImage:"url('".concat(t,"')")};return r.a.createElement("div",{className:X.a.block,style:c},r.a.createElement("div",{className:X.a.wrapper},r.a.createElement("div",{className:X.a.content},r.a.createElement("h1",null,a),r.a.createElement("p",null,n))))},G=a(36),H=a.n(G),Y=function(e){var t=e.text,a=e.onClick;return r.a.createElement("div",{className:H.a.block},r.a.createElement("button",{type:"button",className:H.a.btn,onClick:function(){return a(!0)}},t))},K=a(12),V=a.n(K),W=function(e){var t=e.alt,a=e.imagePath;return r.a.createElement("img",{className:V.a.image,src:j(a),alt:t})},Z=function(e){var t=e.movie,a=t.id,n=t.title,c=t.poster_path,l=t.character,i=t.release_date,m=i&&new Date(i).getFullYear();return r.a.createElement(o.b,{to:"/movie/".concat(a),className:V.a.block},r.a.createElement("img",{className:V.a.image,src:j(c),alt:n}),r.a.createElement("p",{className:V.a.title},"\u201c",n,"\u201d",m?", ".concat(m):"",l&&r.a.createElement("span",{className:V.a.character},l)))},q=a(9),Q=a(13),$=a.n(Q),ee=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={value:""},a.handleSubmit=function(e){e.preventDefault();var t=a.state.value.trim(),n=a.props.match.params.searchTerm;""!==t&&t!==n&&a.props.history.push("/search/".concat(t))},a.handleInput=function(e){var t=e.target.value;a.setState({value:t})},a.selectText=function(e){e.target.select()},a}return Object(_.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.searchTerm;e&&this.setState({value:e})}},{key:"componentDidUpdate",value:function(e){var t=this.props.match.params.searchTerm;e.match.params.searchTerm!==t&&this.setState({value:t})}},{key:"render",value:function(){return r.a.createElement("div",{className:$.a.block},r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:$.a.form,onSubmit:this.handleSubmit},r.a.createElement("label",{className:$.a.label},r.a.createElement(q.a,{className:$.a.icon,icon:"search"}),r.a.createElement("span",{className:"visually-hidden"},"Search"),r.a.createElement("input",{type:"text",name:"search",className:$.a.input,placeholder:"Search",onFocus:this.selectText,onChange:this.handleInput,value:this.state.value})),r.a.createElement("button",{className:$.a.submitBtn},"Search"))))}}]),t}(n.Component),te=Object(i.f)(ee),ae=a(45),ne=a.n(ae),re=function(){return r.a.createElement("div",{className:ne.a.loader})},ce=B(function(e){var t=e.loading,a=e.movies,n=e.currentPage,c=e.totalPages,l=e.updateItems,o=a.length>0?a[0]:{};return r.a.createElement(F,null,r.a.createElement(D,{title:"RMDB - Popular Movies",desc:"React Movie (or RMDB) is a database for searching information about movies and actors",image:w(o.backdrop_path)}),r.a.createElement(z,{image:w(o.backdrop_path),title:o.original_title,text:o.overview}),r.a.createElement(te,null),r.a.createElement(J,{title:"Popular Movies"},a.map(function(e){return r.a.createElement(Z,{key:e.id,movie:e})})),t&&r.a.createElement(re,null),n<c&&!t&&r.a.createElement(Y,{text:"Load More",onClick:l}))},{type:"movie",typeId:"popular"}),le=a(14),oe=a.n(le),ie=function(e){var t=e.actor;return r.a.createElement("div",{className:oe.a.card},r.a.createElement(o.b,{to:"/actor/".concat(t.id),className:oe.a.image},r.a.createElement("img",{src:O(t.profile_path),alt:t.name})),r.a.createElement("div",{className:oe.a.info},r.a.createElement(o.b,{to:"/actor/".concat(t.id),className:oe.a.link},r.a.createElement("p",{className:oe.a.name},t.name)),r.a.createElement("p",{className:oe.a.character},t.character)))},me=a(7),se=a.n(me),ue=function(e){var t=e.title,a=e.children;return a&&r.a.createElement("div",{className:se.a.section},r.a.createElement("h2",{className:se.a.subtitle},t),"string"===typeof a?r.a.createElement("p",null,a):a)},pe=function(e){var t=e.children;return r.a.createElement("div",{className:se.a.footer},t)},_e=function(e){var t=e.style,a=e.thumb,n=e.title,c=e.children;return r.a.createElement("div",{className:se.a.block,style:t},r.a.createElement("div",{className:se.a.content},r.a.createElement("div",{className:se.a.thumb},r.a.createElement(W,{imagePath:a,alt:n})),r.a.createElement("div",{className:se.a.text},r.a.createElement("h1",{className:se.a.title},n),c)))},de=a(49),he=a(46),Ee=a.n(he),fe=function(e){var t=e.children,a=e.onClick;return r.a.createElement("button",{type:"button",className:Ee.a.btn,onClick:a},t)},ve=a(21),be=a.n(ve),ge=function(e){var t=e.children,a=e.title,c=e.OpenBtn,l=Object(n.useState)(!1),o=Object(de.a)(l,2),i=o[0],m=o[1],s=function(){return m(!1)},u=function(e){return 27===e.keyCode&&i?s():null};Object(n.useEffect)(function(){return window.addEventListener("keydown",u),function(){window.removeEventListener("keydown",u)}});var p=i?be.a.open:be.a.overlay;return r.a.createElement(r.a.Fragment,null,r.a.createElement(c,{openModal:function(){return m(!0)}}),i&&r.a.createElement("div",{className:p,onClick:function(e){return e.target.className===p?s():null}},r.a.createElement("section",{className:be.a.content},r.a.createElement("div",{className:be.a.header},r.a.createElement("h2",{className:be.a.title},a),r.a.createElement(fe,{onClick:s},r.a.createElement(q.a,{icon:"times",size:"1x"}),r.a.createElement("span",{className:"visually-hidden"},"close"))),r.a.Children.map(t,function(e){return r.a.cloneElement(e,{closeModal:s})}))))},ye=a(47),ke=function(e){var t=e.title,a=e.trailerURL;return r.a.createElement("iframe",{className:ye.player,title:"".concat(t," - Official Trailer"),width:"560",height:"315",src:a,frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope",allowFullScreen:!0})},Ne=a(28),we=a.n(Ne),xe=function(e){var t=e.value;return r.a.createElement("div",{className:we.a.block},r.a.createElement("meter",{className:we.a.scale,min:"0",max:"100",optimum:"100",low:"40",high:"70",value:10*t}),r.a.createElement("p",{className:we.a.value},t))},je=function(e){var t=e.openModal;return r.a.createElement(fe,{onClick:t},r.a.createElement(q.a,{icon:"play",size:"1x"})," Play trailer")},Oe=function(e){var t=e.backdrop_path,a=e.poster_path,n=e.title,c=e.genres,l=e.overview,o=e.vote_average,i=e.credits,m=e.videos,s={backgroundImage:"url(".concat(w(t),")")},u=m.results.length>0&&m.results.filter(function(e){return"Trailer"===e.type})[0],p=u?"".concat("https://www.youtube.com/embed/").concat(u.key):null,_=i.crew.filter(function(e){return"Director"===e.job}),d=c.map(function(e){return e.name}).join(", ");return r.a.createElement(_e,{title:n,thumb:a,style:s},p&&r.a.createElement(ge,{title:"Play Trailer",OpenBtn:je},r.a.createElement(ke,{trailerURL:p,title:n})),r.a.createElement(ue,{title:"Overview"},l),r.a.createElement(pe,null,r.a.createElement(ue,{title:"Genres"},d),r.a.createElement(ue,{title:"IMDB rating"},r.a.createElement(xe,{value:o})),r.a.createElement(ue,{title:_.length>1?"Directors":"Director"},_.map(function(e){return e.name}).join(", "))))},Se=a(24),De=a.n(Se),Ie=function(e){var t=e.icon,a=e.children;return r.a.createElement("li",{className:De.a.item},r.a.createElement(q.a,{icon:t,size:"2x"}),r.a.createElement("span",{className:De.a.text},a))},Ce=function(e){var t=e.children;return r.a.createElement("div",{className:De.a.block},r.a.createElement("ul",{className:De.a.list},t))},Me=function(e){return e&&0!==e?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(e):"n/a"},Te=function(e){var t=e.runtime,a=e.budget,n=e.revenue,c=e.release_date;return r.a.createElement(Ce,null,r.a.createElement(Ie,{icon:["far","calendar-alt"]},"Release date: ",c),r.a.createElement(Ie,{icon:["far","clock"]},"Running time: ",function(e){if(!e||0===e)return"n/a";var t=Math.floor(e/60),a=e%60;return"".concat(t,"h ").concat(a,"m")}(t)),r.a.createElement(Ie,{icon:["far","money-bill-alt"]},"Budget: ",Me(a)),r.a.createElement(Ie,{icon:"ticket-alt"},"Revenue: ",Me(n)))},Be=a(25),Pe=a.n(Be),Le=function(e){var t=e.title;return r.a.createElement("div",{className:Pe.a.block},r.a.createElement("ul",{className:Pe.a.list},r.a.createElement("li",{className:Pe.a.item},r.a.createElement(o.b,{to:"/"},"Home")),r.a.createElement("li",{className:Pe.a.item},t)))},Fe=B(function(e){var t=e.response,a=e.loading,n=t&&t.credits&&t.credits.cast;return r.a.createElement(F,null,t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{title:'RMDB - "'.concat(t.title,'"'),desc:t.overview,image:x(t.poster_path)}),r.a.createElement(Le,{title:t.title}),r.a.createElement(Oe,t),r.a.createElement(Te,t)),n&&r.a.createElement(J,{title:"Actors"},n.map(function(e){return r.a.createElement(ie,{key:e.name,actor:e})})),a&&r.a.createElement(re,null),!n&&!a&&r.a.createElement("h1",null,"Not found!"))},{type:"movie",options:["credits","videos"]}),Re=B(function(e){var t=e.loading,a=e.movies,n=e.currentPage,c=e.totalPages,l=e.updateItems,o=e.searchTerm,i='Search results for "'.concat(o,'"');return r.a.createElement(F,null,r.a.createElement(D,{title:"RMDB - Search: ".concat(o),desc:i}),r.a.createElement(te,null),r.a.createElement(J,{title:i},a.map(function(e){return r.a.createElement(Z,{key:e.id,movie:e})})),t&&r.a.createElement(re,null),n<c&&!t&&r.a.createElement(Y,{text:"Load More",onClick:l}))},{type:"search",typeId:"movie"}),Ue=function(e){var t=e.name,a=e.profile_path,n=e.biography;return r.a.createElement(_e,{title:t,thumb:a},r.a.createElement(ue,{title:"Biography"},n))},Je=[{gen:"n/a",icon:"genderless"},{gen:"Female",icon:"venus"},{gen:"Male",icon:"mars"}],Ae=function(e){var t=e.gender,a=e.birthday,n=e.deathday,c=e.place_of_birth,l=function(e,t){var a=t?new Date(t):new Date,n=new Date(e),r=a.getFullYear()-n.getFullYear(),c=a.getMonth()-n.getMonth();return(c<0||0===c&&a.getDate()<n.getDate())&&r--,r}(a,n),o=a?"".concat(a," \u2013 ").concat(n||"now"," (age ").concat(l,")"):"n/a",i=Je[t],m=i.gen,s=i.icon;return r.a.createElement(Ce,null,r.a.createElement(Ie,{icon:["far","calendar-alt"]},"Life: ",o),r.a.createElement(Ie,{icon:s},"Gender: ",m),r.a.createElement(Ie,{icon:"globe"},"Place of birth: ",c||"n/a"))},Xe=B(function(e){var t=e.response,a=e.loading,n=t&&t.movie_credits&&t.movie_credits.cast;return r.a.createElement(F,null,t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{title:"RMDB - ".concat(t.name),desc:t.biography,image:x(t.profile_path)}),r.a.createElement(Le,{title:t.name}),r.a.createElement(Ue,t),r.a.createElement(Ae,t)),n&&r.a.createElement(J,{title:"".concat(n.length," Movies with ").concat(t.name)},n.sort(function(e,t){return new Date(t.release_date)-new Date(e.release_date)}).map(function(e){return r.a.createElement(Z,{key:e.id,movie:e})})),a&&r.a.createElement(re,null),!n&&!a&&r.a.createElement("h1",null,"Not found!"))},{type:"person",options:["images","movie_credits","tv_credits"]}),ze=function(){return r.a.createElement(d,null,r.a.createElement(o.a,{basename:"/react_rmdb"},r.a.createElement(f,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",component:ce,exact:!0}),r.a.createElement(i.a,{path:"/search/:searchTerm",component:Re,exact:!0}),r.a.createElement(i.a,{path:"/movie/:id",component:Fe,exact:!0}),r.a.createElement(i.a,{path:"/actor/:id",component:Xe,exact:!0}),r.a.createElement(i.a,{component:v}))))},Ge=a(22),He=a(48),Ye=a(8),Ke=a(29);Ge.b.add(He.a,Ye.e,Ke.a,Ke.b,Ke.c,Ye.f,Ye.a,Ye.c,Ye.h,Ye.b,Ye.d,Ye.g);a(68),a(69);l.a.render(r.a.createElement(ze,null),document.getElementById("root"))}],[[50,1,2]]]);
//# sourceMappingURL=main.5b9cbfc6.chunk.js.map